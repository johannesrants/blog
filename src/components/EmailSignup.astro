---
---

<div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #333;">
  <p style="margin: 0 0 1rem; color: #999; font-size: 0.9375rem;">
    I email out my less SFW ramblings here.
  </p>
  <form 
    id="email-signup-form"
    style="display: flex; gap: 0.5rem; flex-wrap: wrap;"
  >
    <input
      type="email"
      name="email"
      id="bd-email"
      placeholder="your@email.com"
      required
      style="
        flex: 1;
        min-width: 200px;
        padding: 0.625rem 0.75rem;
        border: 1px solid #444;
        border-radius: 0;
        font-size: 0.9375rem;
        font-family: inherit;
        background: #2a2a2a;
        color: #e5e5e5;
      "
    />
    <button
      type="submit"
      id="submit-btn"
      style="
        padding: 0.625rem 1.25rem;
        border: 1px solid #e5e5e5;
        background: #e5e5e5;
        color: #1a1a1a;
        font-size: 0.9375rem;
        font-family: inherit;
        cursor: pointer;
      "
    >
      Send me the notes
    </button>
  </form>
  <p id="form-message" style="margin: 1rem 0 0; color: #999; font-size: 0.9375rem; display: none;"></p>
</div>

<script>
  const form = document.getElementById('email-signup-form');
  const emailInput = document.getElementById('bd-email');
  const submitBtn = document.getElementById('submit-btn');
  const messageEl = document.getElementById('form-message');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const email = emailInput.value.trim();
    const originalBtnText = submitBtn.textContent;
    
    // Disable form during submission
    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending...';
    messageEl.style.display = 'none';
    
    try {
      const formData = new FormData();
      formData.append('email', email);
      
      const response = await fetch('https://buttondown.com/api/emails/embed-subscribe/johannes-dev', {
        method: 'POST',
        body: formData,
        mode: 'no-cors' // Prevents CORS issues, but we won't get response
      });
      
      // Since we use no-cors, we can't read the response
      // But if no error is thrown, assume success
      messageEl.textContent = 'Thanks! Check your email to confirm.';
      messageEl.style.color = '#999';
      messageEl.style.display = 'block';
      emailInput.value = '';
      
    } catch (error) {
      messageEl.textContent = 'Something went wrong. Please try again.';
      messageEl.style.color = '#999';
      messageEl.style.display = 'block';
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = originalBtnText;
    }
  });
</script>

